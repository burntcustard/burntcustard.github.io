<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="theme-color" content="#ffffff"><meta name="description" content="There have been tons of usful additions to CSS over the last year or so - some of them are super helpful for js13kGames!"><title>burnt.io - Blog - CSS for js13k in 2022</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&amp;family=Fira+Sans:wght@700&amp;display=swap" rel="stylesheet"><link href="/assets/css/style.css" rel="stylesheet"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><script defer="" src="/assets/js/main.js"></script></head><body class="blog"><header><nav><div><a href="/" class="home">burnt.io</a></div><div><a href="/play/" class="play">Play</a><a href="/work/" class="work">Work</a><a href="/blog/" class="blog" aria-current="page">Blog</a></div></nav></header><main><header><h1 id="css-for-js13k-in-2022">CSS for js13k in 2022</h1><time>8/13/2022</time></header><div class="content"><script async="" src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script>
<p>There are only a handful of <a href="https://js13kgames.com/">js13kGames</a> entries each year that use CSS, but there have been tons of usful <small>(yes, for games!)</small> additions to the language over the last year or so. Hopefully me pointing some of them out can get more people interested!</p>
<h2 id="accent-color"><a href="#accent-color"><code>accent-color</code></a></h2>
<p>Starting off simple, <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/accent-color">accent-color</a> sets the color for <abbr title="User Interface">UI</abbr> controls like checkboxes and range sliders. Safari added it in version 15.4 (March 2022), so there's now full browser support! There's a great <a href="https://web.dev/accent-color/">article on it by web.dev</a> if you want to know more.</p>
<p data-height="256" data-theme-id="dark" data-slug-hash="gOeBwPy" data-default-tab="result" data-user="Captain Anonymous" data-embed-version="2" data-pen-title="Unknown Pen" data-preview="false" data-editable="false" class="codepen" style="height: 256px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">See the Pen <a href="https://codepen.io/Captain Anonymous/pen/gOeBwPy/">Unknown Pen</a> on <a href="https://codepen.io">CodePen</a>.</p>
<h2 id="new-color-syntax"><a href="#new-color-syntax">New Color Syntax</a></h2>
<p>Hex notation (<code>#ffffff</code> or <code>#fff</code>) is usually best for game jams because of it's conciseness, however the other syntaxes have had some improvements recently, and are more likely to be worth using, especially for programatically-generated colors.</p>
<h3 id="rgb-and-hsl-with-alpha"><a href="#rgb-and-hsl-with-alpha"><code>rgb()</code> and <code>hsl()</code> with alpha</a></h3>
<p>Both <code>rgb()</code> and <code>hsl()</code> now support an alpha channel without the <code>a</code>, and with spaces instead of commas:</p>
<pre><code>/* old */
color: rgba(255, 204, 17, 0.5);
color: hsla(47deg, 100%, 53%, 0.5);
/* new */
color: rgb(255 204 17 / 0.5);
color: hsl(47deg 100% 53% / 0.5);
</code></pre>
<p>If you're hand-minifying, the newer syntax saves a few bytes, half because of the removal of <code>a</code>, and half because percentage values don't require the space after them.</p>
<pre><code>/* old */
color:rgba(255,204,17,.5);
color:hsla(47,100%,53%,.5);
/* new */
color:rgb(255 204 17/.5); // 1B shorter!
color:hsl(47 100%53%/.5); // 2B shorter!
</code></pre>
<h3 id="hue-whiteness-blackness"><a href="#hue-whiteness-blackness">Hue Whiteness Blackness</a></h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/hwb">hwb()</a> is a newly implemented (full support since April 2022) color syntax, where <code>H</code> is hue, <code>W</code> is whiteness, <code>B</code> is blackness. It's nice to pick colors with, and minifies well. Worth mentioning that it <em>does not support</em> the old comma-based syntax.</p>
<pre><code>color: hwb(47deg 7% 0%);
color:hwb(47 7%0%); // Minified
</code></pre>
<h2 id="flexbox-and-grid-improvements"><a href="#flexbox-and-grid-improvements">Flexbox &amp; Grid Improvements</a></h2>
<h3 id="start-instead-of-flex-start"><a href="#start-instead-of-flex-start"><code>start</code> Instead of <code>flex-start</code></a></h3>
<p>Safari is the only browser that requires the <code>flex-</code> part of <code>align-items: flex-start</code> for flexbox containers. All other browsers are fine with just <code>align-items: start</code>. If you're really in need of those few bytes, and still want to support Safari, you might be able to get away with a <code>display: grid</code> container instead.</p>
<h3 id="gap-property-for-flexbox"><a href="#gap-property-for-flexbox"><code>gap</code> Property for Flexbox</a></h3>
<p>It took Safari until last year to implement this one, but it's great. Gone are the days of negative margins on the parent and positive margins on the children, or weird margins between siblings. Just use a grid or flexbox layout plus <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/gap">gap</a>!</p>
<pre><code>/* Ye old method */
.parent {
  margin: -1rem;
}
.child {
  margin: 1rem;
}

/* Another old one */
.child ~ .child {
  margin-left: 2rem;
}

/* New */
.parent {
  display: grid;
  gap: 2rem;
}
</code></pre>
<h2 id="backdrop-filter"><a href="#backdrop-filter"><code>backdrop-filter</code></a></h2>
<p>Two words: <em>Frosted. Glass.</em></p>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter">backdrop-filter</a> property applies a filter to an area <em>behind</em> an element. The most obvious example is <code>backdrop-filter: blur()</code> for iOS-style dialogs boxes, overlays, buttons, etc.</p>
<p data-height="256" data-theme-id="dark" data-slug-hash="qBoMeQg" data-default-tab="result,css" data-user="Captain Anonymous" data-embed-version="2" data-pen-title="Unknown Pen" data-preview="false" data-editable="false" class="codepen" style="height: 256px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">See the Pen <a href="https://codepen.io/Captain Anonymous/pen/qBoMeQg/">Unknown Pen</a> on <a href="https://codepen.io">CodePen</a>.</p>
<p>You can use any of the CSS <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function">&lt;filter-functions&gt;</a> as values for backdrop-filter. Another helpful filter is <code>invert()</code>, as it can make <abbr title="User Interface">UI</abbr> elements like crosshairs stand out on any background.</p>
<p data-height="256" data-theme-id="dark" data-slug-hash="wvmEVOo" data-default-tab="css,result" data-user="Captain Anonymous" data-embed-version="2" data-pen-title="Unknown Pen" data-preview="false" data-editable="false" class="codepen" style="height: 256px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">See the Pen <a href="https://codepen.io/Captain Anonymous/pen/wvmEVOo/">Unknown Pen</a> on <a href="https://codepen.io">CodePen</a>.</p>
<p>A rudimentary tilt-shift effect can be created by combining a mask with <code>backdrop-filter: blur()</code>.</p>
<p>First, the mask-image. We're going to use the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/mask">mask shorthand</a>, and it needs the <code>-webkit-</code> prefix as browsers are being slow at removing it. But even Firefox supports <code>-webkit-mask</code>.</p>
<p>This mask starts at the top as black (any color <em>should</em> work, checking if <code>red</code> can save a couple of byes is on my todo listâ€¦) to apply the full filter effect, then fades to transparent so that towards the center the view the filter isn't applied</p>
<pre><code>-webkit-mask: linear-gradient(black 10%, transparent 40% 60%, black 90%);
</code></pre>
<p>The <code>.filter</code> element must have some sort of background for the mask to be applied - so here we give it <code>background: #0ff;</code></p>
<p data-height="256" data-theme-id="dark" data-slug-hash="jOzerZg" data-default-tab="css,result" data-user="Captain Anonymous" data-embed-version="2" data-pen-title="Unknown Pen" data-preview="false" data-editable="false" class="codepen" style="height: 256px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">See the Pen <a href="https://codepen.io/Captain Anonymous/pen/jOzerZg/">Unknown Pen</a> on <a href="https://codepen.io">CodePen</a>.</p>
<p>We can then swap out the background for a <code>backdrop-filter</code> - this one blurs slightly, and darkens and desatures with &lt; 1 values.</p>
<pre><code>backdrop-filter: blur(5px) brightness(0.8) grayscale(0.2);
</code></pre>
<p data-height="256" data-theme-id="dark" data-slug-hash="WNzaxxL" data-default-tab="css,result" data-user="Captain Anonymous" data-embed-version="2" data-pen-title="Unknown Pen" data-preview="false" data-editable="false" class="codepen" style="height: 256px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">See the Pen <a href="https://codepen.io/Captain Anonymous/pen/WNzaxxL/">Unknown Pen</a> on <a href="https://codepen.io">CodePen</a>.</p>
<p>This CSS-based city uses the effect to <a href="https://en.wikipedia.org/wiki/Miniature_faking">miniture-ify</a> it:</p>
<p data-height="450" data-theme-id="dark" data-slug-hash="GRxYZQW" data-default-tab="result" data-user="Captain Anonymous" data-embed-version="2" data-pen-title="Unknown Pen" data-preview="true" data-editable="false" class="codepen" style="height: 450px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">See the Pen <a href="https://codepen.io/Captain Anonymous/pen/GRxYZQW/">Unknown Pen</a> on <a href="https://codepen.io">CodePen</a>.</p>
<p><code>backdrop-filter</code> recently landed in Firefox 103, so it's now in all moderns browsers. The <code>-webkit-</code> prefix is still needed for Safari, but I'd recomend leaving that off for js13kGames, as losing the effect likely isn't a game-breaking bug.</p>
<h2 id="htmlelemetinert"><a href="#htmlelementinert"><code>HTMLElemet.inert</code></a></h2>
<p>Okay this one isn't CSS, it's HTML, but it can replace CSS. The HTMLElement <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/inert">inert</a> property marks an element as <strong>non-interactable</strong>. It's better than <code>pointer-events: none</code> because not only is it shorter, but it also disables keyboard access, without having to <code>tabIndex="-1"</code> any interative children.</p>
<pre><code>/* old */
&lt;div class="ui" style="pointer-events: none"&gt;
  &lt;div class="popup-modal&gt;&lt;/div&gt;
&lt;/div&gt;

/* new */
&lt;div class="ui" inert&gt;
  &lt;div class="popup-modal&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>Firefox will be getting <code>inert</code> next month in version 105, and all other moderns browsers <a href="https://caniuse.com/mdn-api_htmlelement_inert">already support it</a>.</p>
<h2 id="inset"><a href="#inset"><code>inset</code></a></h2>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/inset">inset</a> CSS property is the new (since 2020) <code>top, right, button, left</code> shorthand.</p>
<pre><code>.old {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.new {
  inset: 0;
}
</code></pre>
<h2 id="final-thoughts">Final Thoughts</h2>
<p>Maybe let me know if you've learnt something or have been inspired to use something mentioned here in your game! (Via <a href="https://twitter.com/burntcustard">twitter</a> or on the js13kGames <a href="https://slack.js13kgames.com/">Slack channel</a>?)</p>
<p>If you're wondering what an entire game made with CSS (instead of for example a <code>&lt;canvas&gt;</code> element) looks like, you can check out my js13kGames entry from 2021, <a href="https://js13kgames.com/entries/3dc5s">3DC5S</a>. I also used some of the techniques mentioned here on my recent <a href="https://js1024.fun/">js1024</a> entries, <a href="https://github.com/burntcustard/js1024-mirror-puzzle">mirror-puzzle</a> and <a href="https://github.com/burntcustard/js1024-stacking-game">stacking-game</a>.</p>
</div></main></body></html>